{"version":3,"sources":["components/Chioce/Chioce.js","components/Show/Show.js","assets/Font.js","components/Cart/Cart.js","App.js","api/index.js","models/products.js","models/cart.js","index.js"],"names":["connect","onSize","products","dispatch","className","gutter","map","item","index","checked","includes","onClick","type","payload","size","style","width","sizes","sortData","useEffect","window","localStorage","show_data","page","console","log","xs","sm","length","overlay","Item","e","preventDefault","DownOutlined","md","lg","xl","xxl","bordered","hoverable","src","sku","alt","title","currencyFormat","price","content","availableSizes","current","disabled","installments","product_id","id","quantity","product","message","success","warning","color","isFreeShipping","MyIcon","createFromIconfontCN","scriptUrl","state","data","cart","cart_data","useState","visible","serVisible","total","reduce","toFixed","count","footer","span","marginTop","block","cart_quantity","placement","closable","onClose","cart_width","w","document","documentElement","clientWidth","getWidth","dataSource","itemLayout","renderItem","delete_id","Csize","remainder","App","getProducts","Promise","resolve","namespace","effects","fetch","call","put","api","recoverDefault","changeUp","changeDown","setStorage","paroduct_data","JSON","parse","paroduct_size","reducers","save","storage","stringify","setItem","loseItem","newData","newSortData","addGood","cutGood","sortGoodDefault","action","i","j","temp","sortGoodUp","up","sort","a","b","newProducts","newArr","push","splice","sortGoodDown","down","recover","newArr1","recoverItem","changeOnSize","filter","updateList","storageData","saveItem","finded","find","cleanCar","cleanArr","deleteItem_cart","addOne","cutOne","updateCartData","addCart","increase","decrease","clearCar","deleteItem","updateCart","app","dva","router","model","start"],"mappings":"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","file":"static/js/main.9b881937.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Row, Col, Checkbox, Button } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport { connect } from \"dva\";\r\nimport \"./chioce.css\";\r\n\r\nconst Chioce = ({ dispatch, onSize }) => {\r\n  const size = [\"XS\", \"S\", \"M\", \"ML\", \"L\", \"XL\", \"XXL\"];\r\n  return (\r\n    <div className=\"boxs\">\r\n      <h1>Sizes:</h1>\r\n      <Row gutter={[30, 20]}>\r\n        {size.map((item, index) => {\r\n          return (\r\n            <Col key={item + index}>\r\n              <Checkbox\r\n                checked={onSize.includes(item)}\r\n                onClick={() => {\r\n                  dispatch({\r\n                    type: \"products/changeOnSize\",\r\n                    payload: {\r\n                      checked: !onSize.includes(item),\r\n                      size: item,\r\n                    },\r\n                  });\r\n                }}\r\n              >\r\n                {item}\r\n              </Checkbox>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n      <Button\r\n        style={{ width: \"100%\" }}\r\n        onClick={() => {\r\n          dispatch({\r\n            type: \"products/updateList\",\r\n            payload: {\r\n              sizes: onSize,\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        筛选\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ products }) => {\r\n  return {\r\n    onSize: products.onSize,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Chioce);\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Menu,\r\n  Button,\r\n  Dropdown,\r\n  Card,\r\n  Image,\r\n  message,\r\n  Tag,\r\n  Popover,\r\n} from \"antd\";\r\nimport \"./show.css\";\r\nimport \"antd/dist/antd.css\";\r\nimport { DownOutlined } from \"@ant-design/icons\";\r\nimport { connect } from \"dva\";\r\n\r\nfunction Show({ dispatch, products }) {\r\n  useEffect(() => {\r\n    if (window.localStorage.show_data) {\r\n      dispatch({\r\n        type: \"products/setStorage\",\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: \"products/fetch\",\r\n        payload: {\r\n          page: 1,\r\n        },\r\n      });\r\n    }\r\n  }, []);\r\nconsole.log(products)\r\n  return (\r\n    <div className=\"allWife\">\r\n      <Row className=\"choose\" gutter={[10, 10]}>\r\n        <Col xs={24} sm={12}>\r\n          发现{products.length}件商品\r\n        </Col>\r\n        <Col xs={24} sm={12}>\r\n          排序&nbsp;&nbsp;\r\n          <Dropdown\r\n            overlay={\r\n              <Menu>\r\n                <Menu.Item\r\n                  onClick={() => {\r\n                    dispatch({\r\n                      type: \"products/recoverDefault\",\r\n                    });\r\n                  }}\r\n                >\r\n                  默认排序\r\n                </Menu.Item>\r\n                <Menu.Item\r\n                  onClick={() => {\r\n                    dispatch({\r\n                      type: \"products/changeUp\",\r\n                    });\r\n                  }}\r\n                >\r\n                  价格升序\r\n                </Menu.Item>\r\n                <Menu.Item\r\n                  onClick={() => {\r\n                    dispatch({\r\n                      type: \"products/changeDown\",\r\n                    });\r\n                  }}\r\n                >\r\n                  价格降序\r\n                </Menu.Item>\r\n              </Menu>\r\n            }\r\n          >\r\n            <a\r\n              className=\"ant-dropdown-link\"\r\n              onClick={(e) => e.preventDefault()}\r\n            >\r\n              排序选择 <DownOutlined />\r\n            </a>\r\n          </Dropdown>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[20, 20]}>\r\n        {products.map((item, index) => {\r\n          return (\r\n            <Col\r\n              xs={24}\r\n              sm={12}\r\n              md={12}\r\n              lg={8}\r\n              xl={6}\r\n              xxl={6}\r\n              key={index + item}\r\n            >\r\n              <Card bordered hoverable className=\"wife\">\r\n                <Image\r\n                  src={`./img/${item.sku}_1.jpg`}\r\n                  alt=\"图片未加载\"\r\n                  style={{ width: \"100%\" }}\r\n                />\r\n                <div className=\"price\">\r\n                  <div className=\"show-title\">{item.title}</div>\r\n                  <hr className=\"line\" />\r\n                  {item.currencyFormat}\r\n                  <span className=\"show-price\"> {item.price}</span>\r\n                </div>\r\n                <Popover\r\n                  content={item.availableSizes.map((current, index) => {\r\n                    return (\r\n                      <Button\r\n                        key={index}\r\n                        className=\"size-title\"\r\n                        disabled={item.installments === 0}\r\n                        onClick={() => {\r\n                          dispatch({\r\n                            type: \"cart/addCart\",\r\n                            payload: {\r\n                              product_id: item.id,\r\n                              quantity: item.installments > 0 ? 1 : 0,\r\n                              size: current,\r\n                              product: item,\r\n                            },\r\n                          });\r\n                          message.success(\"添加购物车成功\");\r\n                          if (item.installments === 0) {\r\n                            message.warning(\"商品被买完啦\");\r\n                          }\r\n                        }}\r\n                      >\r\n                        {current}\r\n                      </Button>\r\n                    );\r\n                  })}\r\n                  title=\"尺码选择\"\r\n                >\r\n                  <Button type=\"primary\" size=\"large\" style={{ width: \"100%\" }}>\r\n                    添加\r\n                  </Button>\r\n                </Popover>\r\n                <Tag className=\"tag\" color=\"#2db7f5\">\r\n                  {item.isFreeShipping ? \"isFreeShipping\" : \"noFreeShipping\"}\r\n                </Tag>\r\n                <span className=\"kucun\">库存：{item.installments}</span>\r\n              </Card>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ products }) => ({\r\n  products: products.sortData,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Show);\r\n","import { createFromIconfontCN } from \"@ant-design/icons\";\r\n\r\nconst MyIcon = createFromIconfontCN({\r\n  scriptUrl: \"//at.alicdn.com/t/font_2254369_ekk34fcauud.js\", // 在 iconfont.cn 上生成\r\n});\r\n\r\nexport default MyIcon;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Drawer, Button, List, Row, Col, Badge, Image } from \"antd\";\r\nimport { connect } from \"dva\";\r\nimport MyIcon from \"../../assets/Font\";\r\nimport \"./cart.css\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nconst Cart = ({ data, dispatch }) => {\r\n  useEffect(() => {\r\n    if (window.localStorage.cart_data) {\r\n      dispatch({\r\n        type: \"cart/updateCart\",\r\n      });\r\n    }\r\n  }, []);\r\n  const [visible, serVisible] = useState(0);\r\n  const total = data\r\n    .reduce((total, item) => {\r\n      return total + item.quantity * item.product.price;\r\n    }, 0)\r\n    .toFixed(2);\r\n  const count = data.reduce((total, item) => {\r\n    return total + item.quantity;\r\n  }, 0);\r\n  function getWidth() {\r\n    let cart_width = 0;\r\n    let w = document.documentElement.clientWidth;\r\n    if (w > 1300) {\r\n      cart_width = 30;\r\n    } else if (w <= 1300 && w > 1000) {\r\n      cart_width = 40;\r\n    } else if (w <= 1000 && w > 700) {\r\n      cart_width = 60;\r\n    } else if (w <= 700 && w > 600) {\r\n      cart_width = 70;\r\n    } else if (w <= 600) {\r\n      cart_width = 100;\r\n    }\r\n    return cart_width;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"small_cart\">\r\n        <MyIcon\r\n          type=\"icon-gouwuche\"\r\n          onClick={() => {\r\n            serVisible(1);\r\n          }}\r\n        />\r\n        <Badge count={count} className=\"head-example\"></Badge>\r\n      </div>\r\n\r\n      <div>\r\n        <Drawer\r\n          title={\r\n            <div className=\"inside-cart\">\r\n              <div className=\"content-title\">\r\n                <MyIcon type=\"icon-gouwuche1\" />\r\n                <Badge count={count} className=\"badge-inside\"></Badge>\r\n                <span className=\"cart-title\">Cart</span>\r\n              </div>\r\n            </div>\r\n          }\r\n          footer={\r\n            <div>\r\n              <div className=\"total\">\r\n                <Row>\r\n                  <Col span={12}>总价</Col>\r\n                  <Col span={12}>${total}</Col>\r\n                </Row>\r\n              </div>\r\n              <Button\r\n                type=\"primary\"\r\n                style={{ marginTop: \"20px\" }}\r\n                block\r\n                onClick={() => {\r\n                  dispatch({\r\n                    type: \"cart/clearCar\",\r\n                    payload: {\r\n                      cart_quantity: data,\r\n                    },\r\n                  });\r\n                }}\r\n              >\r\n                清空购物车\r\n              </Button>\r\n            </div>\r\n          }\r\n          placement=\"right\"\r\n          closable={true}\r\n          onClose={() => {\r\n            serVisible(0);\r\n          }}\r\n          visible={visible}\r\n          width={`${getWidth()}%`}\r\n        >\r\n          <List\r\n            bordered\r\n            dataSource={data}\r\n            itemLayout=\"vertical\"\r\n            size=\"large\"\r\n            renderItem={(item, index) => (\r\n              <List.Item key={item.sku}>\r\n                <Row gutter={[10, 0]}>\r\n                  <Col span={8}>\r\n                    <Image\r\n                      src={`./img/${item.product.sku}_2.jpg`}\r\n                      alt=\"裂开\"\r\n                      className=\"imgs\"\r\n                    />\r\n                  </Col>\r\n                  <Col span={8}>\r\n                    <p>{item.product.title}</p>\r\n                    <div className=\"cart-good-name\">\r\n                      <span>\r\n                        {item.size} | {item.product.style}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"cart-quantity\">Quantity:{item.quantity}</p>\r\n                  </Col>\r\n                  <Col span={8} className=\"cart_right\">\r\n                    <Button\r\n                      className=\"exit\"\r\n                      onClick={(index) => {\r\n                        dispatch({\r\n                          type: \"cart/deleteItem\",\r\n                          payload: {\r\n                            delete_id: item.product_id,\r\n                            size: item.size,\r\n                            index: index,\r\n                            quantity: item.quantity,\r\n                          },\r\n                        });\r\n                      }}\r\n                    >\r\n                      ×\r\n                    </Button>\r\n                    <div className=\"cart-good-price-box\">\r\n                      <p className=\"cart-good-price\">\r\n                        {item.product.currencyFormat}\r\n                        {item.product.price}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <Button\r\n                        type=\"primary\"\r\n                        disabled={item.quantity === 1}\r\n                        onClick={() => {\r\n                          dispatch({\r\n                            type: \"cart/decrease\",\r\n                            payload: {\r\n                              id: item.product_id,\r\n                              Csize: item.size,\r\n                            },\r\n                          });\r\n                        }}\r\n                        size=\"small\"\r\n                      >\r\n                        -\r\n                      </Button>\r\n                      &nbsp;\r\n                      <Button\r\n                        type=\"primary\"\r\n                        onClick={() => {\r\n                          dispatch({\r\n                            type: \"cart/increase\",\r\n                            payload: {\r\n                              id: item.product_id,\r\n                              remainder: item.product.installments > 0 ? 1 : 0,\r\n                              Csize: item.size,\r\n                            },\r\n                          });\r\n                        }}\r\n                        size=\"small\"\r\n                        \r\n                      >\r\n                        +\r\n                      </Button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </Drawer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    data: state.cart.data,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Cart);\r\n","import React from \"react\";\nimport { Row, Col } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport Chioce from \"./components/Chioce/Chioce\";\nimport Show from \"./components/Show/Show\";\nimport Cart from \"./components/Cart/Cart\";\n\nfunction App() {\n  return (\n    <div>\n      <Row>\n        <Col span={6}>\n          <Chioce />\n        </Col>\n        <Col span={16}>\n          <Show />\n        </Col>\n        <Col span={2}>\n          <Cart />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default App;\n","import products from \"./products.json\";\r\n\r\nexport const getProducts = () => {\r\n  return new Promise((resolve) => {\r\n    resolve(products)\r\n  });\r\n};","import * as api from \"../api/index\";\r\n\r\nconst products = {\r\n  namespace: \"products\",\r\n  state: {\r\n    data: [],\r\n    sortData: [],\r\n    onSize: [\"XS\", \"S\", \"M\", \"ML\", \"L\", \"XL\", \"XXL\"],\r\n  },\r\n  effects: {\r\n    *fetch({ payload: { page = 1 } }, { call, put }) {\r\n      const data = yield call(api.getProducts, { page });\r\n      yield put({ type: \"save\", payload: { data } });\r\n    },\r\n    *recoverDefault({ payload }, { put }) {\r\n      yield put({ type: \"sortGoodDefault\" });\r\n    },\r\n    *changeUp({ payload }, { call, put }) {\r\n      yield put({ type: \"sortGoodUp\" });\r\n    },\r\n    *changeDown({ payload }, { call, put }) {\r\n      yield put({ type: \"sortGoodDown\" });\r\n    },\r\n    *setStorage({ payload }, { put }) {\r\n      yield put({\r\n        type: \"storageData\",\r\n        payload: {\r\n          paroduct_data: JSON.parse(window.localStorage.paroduct_data),\r\n          show_data: JSON.parse(window.localStorage.show_data),\r\n          paroduct_size: JSON.parse(window.localStorage.paroduct_size),\r\n        },\r\n      });\r\n    },\r\n  },\r\n  reducers: {\r\n    save(state, { payload }) {\r\n      const storage = window.localStorage;\r\n      let paroduct_data = JSON.stringify(payload.data);\r\n      let show_data = JSON.stringify(payload.data);\r\n      let paroduct_size = JSON.stringify(state.onSize);\r\n      storage.setItem(\"paroduct_data\", paroduct_data);\r\n      storage.setItem(\"show_data\", show_data);\r\n      storage.setItem(\"paroduct_size\", paroduct_size);\r\n      return {\r\n        ...state,\r\n        data: payload.data,\r\n        sortData: payload.data,\r\n      };\r\n    },\r\n    loseItem(state, { payload }) {\r\n      let newData = state.data.map((item) => {\r\n        if (item.id === payload.product_id && item.installments > 0) {\r\n          --item.installments;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      let newSortData = state.sortData.map((item) => {\r\n        if (item.id === payload.product_id && item.installments > 0) {\r\n          --item.installments;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      const storage = window.localStorage;\r\n      let paroduct_data = JSON.stringify(newData);\r\n      let show_data = JSON.stringify(newSortData);\r\n      storage.setItem(\"paroduct_data\", paroduct_data);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        data: newData,\r\n        sortData: newSortData,\r\n      };\r\n    },\r\n    addGood(state, { payload }) {\r\n      let newData = state.data.map((item) => {\r\n        if (item.id === payload.id && item.installments > 0) {\r\n          --item.installments;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      let newSortData = state.sortData.map((item) => {\r\n        if (item.id === payload.id && item.installments > 0) {\r\n          --item.installments;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      const storage = window.localStorage;\r\n      let paroduct_data = JSON.stringify(newData);\r\n      let show_data = JSON.stringify(newSortData);\r\n      storage.setItem(\"paroduct_data\", paroduct_data);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        data: newData,\r\n        sortData: newSortData,\r\n      };\r\n    },\r\n    cutGood(state, { payload }) {\r\n      let newData = state.data.map((item) => {\r\n        if (item.id === payload.id) {\r\n          item.installments += 1;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      let newSortData = state.sortData.map((item) => {\r\n        if (item.id === payload.id) {\r\n          item.installments += 1;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      const storage = window.localStorage;\r\n      let paroduct_data = JSON.stringify(newData);\r\n      let show_data = JSON.stringify(newSortData);\r\n      storage.setItem(\"paroduct_data\", paroduct_data);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        data: newData,\r\n        sortData: newSortData,\r\n      };\r\n    },\r\n    //默认排序\r\n    sortGoodDefault(state, action) {\r\n      const { sortData } = state;\r\n      let newData = JSON.parse(JSON.stringify(sortData));\r\n      for (let i = 0; i < newData.length - 1; i++) {\r\n        for (let j = i; j < newData.length - 1; j++) {\r\n          if (newData[i].id > newData[i + 1].id) {\r\n            let temp = [];\r\n            temp = newData[i];\r\n            newData[i] = newData[i + 1];\r\n            newData[i + 1] = temp;\r\n          }\r\n        }\r\n      }\r\n      const storage = window.localStorage;\r\n      let show_data = JSON.stringify(newData);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        sortData: newData,\r\n      };\r\n    },\r\n    //价格升序\r\n    sortGoodUp(state, action) {\r\n      let arrPrice = state.sortData.map((item) => {\r\n        return item.price;\r\n      });\r\n      function sortPriceUp(a, b) {\r\n        return a - b;\r\n      }\r\n      const up = arrPrice.sort(sortPriceUp);\r\n      let newProducts = JSON.parse(JSON.stringify(state.sortData));\r\n      let newArr = [];\r\n      for (let i = 0; i < up.length; i++) {\r\n        for (let j = 0; j < state.sortData.length; j++) {\r\n          if (newProducts[j]?.price === up[i]) {\r\n            newArr.push(newProducts[j]);\r\n            newProducts.splice(j, 1);\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      const storage = window.localStorage;\r\n      let show_data = JSON.stringify(newArr);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        sortData: newArr,\r\n      };\r\n    },\r\n    //价格降序\r\n    sortGoodDown(state, action) {\r\n      let arrPrice = state.sortData.map((item) => {\r\n        return item.price;\r\n      });\r\n      function sortPriceDown(a, b) {\r\n        return b - a;\r\n      }\r\n      const down = arrPrice.sort(sortPriceDown);\r\n      let newProducts = JSON.parse(JSON.stringify(state.sortData));\r\n      let newArr = [];\r\n      for (let i = 0; i < down.length; i++) {\r\n        for (let j = 0; j < state.sortData.length; j++) {\r\n          if (newProducts[j]?.price === down[i]) {\r\n            newArr.push(newProducts[j]);\r\n            newProducts.splice(j, 1);\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n      const storage = window.localStorage;\r\n      let show_data = JSON.stringify(newArr);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        sortData: newArr,\r\n      };\r\n    },\r\n    //清空购物车恢复库存\r\n    recover(state, { payload }) {\r\n      let newArr = JSON.parse(JSON.stringify(state.data));\r\n      for (let i = 0; i < payload.cart_quantity.length; i++) {\r\n        for (let j = 0; j < newArr.length; j++) {\r\n          if (newArr[j].id === payload.cart_quantity[i].product_id) {\r\n            newArr[j].installments += payload.cart_quantity[i].quantity;\r\n          }\r\n        }\r\n      }\r\n      let newArr1 = JSON.parse(JSON.stringify(state.sortData));\r\n      for (let i = 0; i < payload.cart_quantity.length; i++) {\r\n        for (let j = 0; j < newArr1.length; j++) {\r\n          if (newArr1[j].id === payload.cart_quantity[i].product_id) {\r\n            newArr1[j].installments += payload.cart_quantity[i].quantity;\r\n          }\r\n        }\r\n      }\r\n      const storage = window.localStorage;\r\n      let paroduct_data = JSON.stringify(newArr);\r\n      let show_data = JSON.stringify(newArr1);\r\n      storage.setItem(\"paroduct_data\", paroduct_data);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        data: newArr,\r\n        sortData: newArr1,\r\n      };\r\n    },\r\n    //删除商品返回库存\r\n    recoverItem(state, { payload }) {\r\n      let newArr = JSON.parse(JSON.stringify(state.data));\r\n      for (let i = 0; i < newArr.length; i++) {\r\n        if (newArr[i].id === payload.delete_id) {\r\n          newArr[i].installments += payload.quantity;\r\n          break;\r\n        }\r\n      }\r\n      let newArr1 = JSON.parse(JSON.stringify(state.sortData));\r\n      for (let i = 0; i < newArr1.length; i++) {\r\n        if (newArr1[i].id === payload.delete_id) {\r\n          newArr1[i].installments += payload.quantity;\r\n          break;\r\n        }\r\n      }\r\n      const storage = window.localStorage;\r\n      let paroduct_data = JSON.stringify(newArr);\r\n      let show_data = JSON.stringify(newArr1);\r\n      storage.setItem(\"paroduct_data\", paroduct_data);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        data: newArr,\r\n        sortData: newArr1,\r\n      };\r\n    },\r\n    //更新已选尺码\r\n    changeOnSize(state, { payload: { checked, size } }) {\r\n      let { onSize } = state;\r\n      if (checked) {\r\n        onSize = [...onSize, size];\r\n      } else {\r\n        onSize = onSize.filter((item) => {\r\n          return item !== size;\r\n        });\r\n      }\r\n      console.log(onSize);\r\n      const storage = window.localStorage;\r\n      let paroduct_size = JSON.stringify(onSize);\r\n      storage.setItem(\"paroduct_size\", paroduct_size);\r\n      return {\r\n        ...state,\r\n        onSize,\r\n      };\r\n    },\r\n    //按钮更新商品列表\r\n    updateList(state, { payload: { sizes } }) {\r\n      let { data, onSize } = state;\r\n      let newData = JSON.parse(JSON.stringify(data));\r\n      let newArr = [];\r\n      for (let i = 0; i < onSize.length; i++) {\r\n        for (let j = 0; j < newData.length; j++) {\r\n          if (newData[j].availableSizes.includes(onSize[i])) {\r\n            newArr.push(newData[j]);\r\n            newData.splice(j, 1);\r\n            --j;\r\n          }\r\n        }\r\n      }\r\n      const storage = window.localStorage;\r\n      let show_data = JSON.stringify(newArr);\r\n      storage.setItem(\"show_data\", show_data);\r\n      return {\r\n        ...state,\r\n        sortData: newArr,\r\n      };\r\n    },\r\n    storageData(state, { payload }) {\r\n      return {\r\n        ...state,\r\n        data: payload.paroduct_data,\r\n        sortData: payload.show_data,\r\n        onSize: payload.paroduct_size,\r\n      };\r\n    },\r\n  },\r\n};\r\nexport default products;\r\n","const cart = {\r\n  namespace: \"cart\",\r\n  state: {\r\n    data: [],\r\n  },\r\n  reducers: {\r\n    //添加物品到购物车\r\n    saveItem(state, { payload }) {\r\n      let newData = [];\r\n      const finded = state.data.find((item) => {\r\n        return (\r\n          item.product_id === payload.product_id && item.size === payload.size\r\n        );\r\n      });\r\n      if (finded) {\r\n        finded.quantity += payload.quantity;\r\n        newData = state.data.map((item) =>\r\n          item.product_id === finded.product_id && item.size === finded.size\r\n            ? finded\r\n            : item\r\n        );\r\n      } else {\r\n        newData = [...state.data, payload];\r\n      }\r\n      const storage = window.localStorage;\r\n      let cart_data = JSON.stringify(newData);\r\n      storage.setItem(\"cart_data\", cart_data);\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    cleanCar(state, action) {\r\n      const cleanArr = [];\r\n      const storage = window.localStorage;\r\n      let cart_data = JSON.stringify(cleanArr);\r\n      storage.setItem(\"cart_data\", cart_data);\r\n      return {\r\n        data: cleanArr,\r\n      };\r\n    },\r\n    deleteItem_cart(state, { payload }) {\r\n      let newData = JSON.parse(JSON.stringify(state.data));\r\n      newData.splice(payload.index, 1);\r\n      const storage = window.localStorage;\r\n      let cart_data = JSON.stringify(newData);\r\n      storage.setItem(\"cart_data\", cart_data);\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    addOne(state, { payload }) {\r\n      let newData = [];\r\n      const finded = state.data.find((item) => {\r\n        return item.product_id === payload.id && item.size === payload.Csize;\r\n      });\r\n      if (finded) {\r\n        finded.quantity += payload.remainder;\r\n        newData = state.data.map((item) => {\r\n          return item.product_id === finded.product_id &&\r\n            item.size === payload.Csize\r\n            ? finded\r\n            : item;\r\n        });\r\n      }\r\n      const storage = window.localStorage;\r\n      let cart_data = JSON.stringify(newData);\r\n      storage.setItem(\"cart_data\", cart_data);\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    cutOne(state, { payload }) {\r\n      let newData = [];\r\n      const finded = state.data.find((item) => {\r\n        return item.product_id === payload.id && item.size === payload.Csize;\r\n      });\r\n      if (finded) {\r\n        finded.quantity = finded.quantity - 1;\r\n        newData = state.data.map((item) => {\r\n          return item.product_id === finded.product_id &&\r\n            item.size === payload.Csize\r\n            ? finded\r\n            : item;\r\n        });\r\n      }\r\n      const storage = window.localStorage;\r\n      let cart_data = JSON.stringify(newData);\r\n      storage.setItem(\"cart_data\", cart_data);\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    //页面加载刷新购物车数据\r\n    updateCartData(state, { payload }) {\r\n      return {\r\n        ...state,\r\n        data: payload.cart_data,\r\n      };\r\n    },\r\n  },\r\n  effects: {\r\n    *addCart({ payload }, { call, put }) {\r\n      yield put({ type: \"products/loseItem\", payload });\r\n      yield put({ type: \"saveItem\", payload });\r\n    },\r\n    *increase({ payload }, { call, put }) {\r\n      yield put({ type: \"products/addGood\", payload });\r\n      yield put({ type: \"addOne\", payload });\r\n    },\r\n    *decrease({ payload }, { call, put }) {\r\n      yield put({ type: \"products/cutGood\", payload });\r\n      yield put({ type: \"cutOne\", payload });\r\n    },\r\n    *clearCar({ payload }, { call, put }) {\r\n      yield put({ type: \"cleanCar\" });\r\n      yield put({ type: \"products/recover\", payload });\r\n    },\r\n    *deleteItem({ payload }, { call, put }) {\r\n      yield put({ type: \"deleteItem_cart\", payload });\r\n      yield put({ type: \"products/recoverItem\", payload });\r\n    },\r\n    *updateCart({ payload }, { put }) {\r\n      yield put({\r\n        type: \"updateCartData\",\r\n        payload: {\r\n          cart_data: JSON.parse(window.localStorage.cart_data),\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\nexport default cart;\r\n","import React from \"react\";\nimport App from \"./App\";\nimport dva from \"dva\";\nimport products from \"./models/products\";\nimport cart from \"./models/cart\";\n// import chioce from \"./models/chioce\";\n\nconst app = dva();\napp.router(() => <App />);\napp.model(products);\napp.model(cart);\n// app.model(chioce);\napp.start(\"#root\");\n"],"sourceRoot":""}